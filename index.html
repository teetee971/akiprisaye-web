<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>A KI PRI SA YÃ‰</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<header>
  <h1>A KI PRI SA YÃ‰</h1>
  <p>Comparateur citoyen des Outre-mer</p>
</header>

<nav>
  <a href="index.html">ğŸ  Accueil</a>
  <a href="mon-compte.html">ğŸ‘¤ Mon compte</a>
  <a href="signalements.html">ğŸ“¢ Signalements</a>
</nav>

<main>
  <section>
    <h2>ğŸ” Comparer les prix prÃ¨s de chez vous</h2>
    <p>Choisissez votre territoire, une enseigne, et comparez les prix avec la mÃ©tropole.</p>
    <button id="login">ğŸ” Se connecter anonymement</button>
    <button id="upgrade">ğŸ‘‘ Activer mon compte premium</button>
    <p id="status">ğŸ• VÃ©rification du statut...</p>
  </section>

  <section id="premiumContent" style="display:none;">
    <h3>â­ Contenu Premium</h3>
    <ul>
      <li>ğŸ“Š Comparaison Antilles / MÃ©tropole / autres DROM</li>
      <li>ğŸ”” Alertes prix abusifs + badge Conso Solidaire</li>
      <li>ğŸ“¥ Export Excel et suivi de panier</li>
    </ul>
  </section>

  <section>
    <h2>ğŸ’¬ TÃ©moignages</h2>
    <blockquote>
      â€œGrÃ¢ce Ã  A KI PRI SA YÃ‰, jâ€™ai trouvÃ© le meilleur prix pour mes courses Ã  Pointe-Ã -Pitre.â€ â€” Marie, Guadeloupe
    </blockquote>
  </section>
</main>

<footer>
  <p>&copy; 2025 A KI PRI SA YÃ‰ â€“ Lutte contre la vie chÃ¨re</p>
</footer>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
  import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_PROJECT.firebaseapp.com",
    projectId: "YOUR_PROJECT",
    storageBucket: "YOUR_PROJECT.appspot.com",
    messagingSenderId: "XXXXXXX",
    appId: "YOUR_APP_ID"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  document.getElementById("login").addEventListener("click", () => {
    signInAnonymously(auth)
      .then(() => alert("âœ… ConnectÃ© anonymement"))
      .catch((error) => console.error("Erreur:", error));
  });

  document.getElementById("upgrade").addEventListener("click", () => {
    alert("Veuillez crÃ©er un compte pour activer votre accÃ¨s premium.");
  });

  onAuthStateChanged(auth, async (user) => {
    if (user) {
      const token = await user.getIdTokenResult();
      const isPremium = token.claims.premium === true;
      document.getElementById("status").textContent = isPremium ? "ğŸ‘‘ Statut : PREMIUM" : "ğŸ‘¤ Statut : Standard";
      if (isPremium) {
        document.getElementById("premiumContent").style.display = "block";
      }
    }
  });
</script>

</body>
</html>